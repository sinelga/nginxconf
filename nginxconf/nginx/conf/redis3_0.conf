worker_processes  4;

error_log  logs/error.log  info;


events {
        worker_connections  1024;
        multi_accept on;
}

http {
    	include       mime.types;
    	default_type  application/octet-stream;

        log_format main '$remote_addr - $remote_user [$time_local] ' '$host "$request" $status $body_bytes_sent "$http_referer" ' '"$http_user_agent" "$http_x_forwarded_for"';
        access_log logs/access.log main;

        sendfile on;
        keepalive_timeout  65;
        tcp_nopush on;
        tcp_nodelay on;
        types_hash_max_size 2048;
        server_tokens off;

       # gzip_static always;
        gzip on;
        gzip_buffers 16 8k;
        gzip_comp_level 6;
        gzip_http_version 1.1;
        gzip_min_length 10;
        gzip_types text/plain text/css image/png image/gif image/jpeg application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript im$
        gzip_vary on;
        gzip_proxied any;
        gzip_disable "MSIE [1-6]\.(?!.*SV1)";

        proxy_connect_timeout 90;
        proxy_send_timeout 90;
        proxy_read_timeout 90;
        proxy_buffer_size 4k;
        proxy_buffers 4 32k;
        proxy_busy_buffers_size 64k;
        proxy_temp_file_write_size 64k;

 
        

    server {
        listen       80;
        server_name  localhost;
        include fastcgi_params_redis3_0;
        
                set $from 0;                              
        		set $to 9;                                
        		set_random $res $from $to;

        location / {

                resolver 8.8.8.8;
                
      #          set $from 5;                              
      #  		set $to 7;                                
      #  		set_random $res $from $to;
        		
        		#echo  /home/juno/git/goFastCgiLight/goFastCgiLight/img/$weblocale/$webthemes/$variant/$res.jpg;
        		set $rimage /home/juno/git/goFastCgiLight/goFastCgiLight/img/$weblocale/$webthemes/$variant/$res.jpg;              
                
                #secho_random_min  0;
				#echo_random_max  9;
                #location /robots.txt { alias /home/juno/git/goFastCgiLight/goFastCgiLight/robots.txt; }
                #location /favicon.ico { alias  /home/juno/git/goFastCgiLight/goFastCgiLight/finance_favicon.ico; }
                #location /css/$weblocale/$webthemes/$variant/bootstrap.min.css { alias  /home/juno/git/goFastCgiLight/goFastCgiLight/css/bootstrap.min.css; }
                #location ~ bootstrap.min.css { alias  /home/juno/git/goFastCgiLight/goFastCgiLight/css/$weblocale/$webthemes/$variant/bootstrap.min.css; }
                #location ~ main.css { alias  /home/juno/git/goFastCgiLight/goFastCgiLight/css/$weblocale/$webthemes/$variant/main.css; }
                #location ~ 0.jpg { alias  /home/juno/git/goFastCgiLight/goFastCgiLight/img/$weblocale/$webthemes/$variant/$res.jpg; }
                #location ~ 0.jpg { alias $rimage; } 
                #location /crossdomain.xml { return 404; }
                #location /sitemap.xml { return 404;}

				#include otherbot.conf;

                #set $bot 0;
                #set $mobile 0;
                
                #set $webappdesktype _desk;
                #set $webappmobitype _mobi;
 
              	#root /home/juno/git/$weblocale$webthemes$webappdesktype/$weblocale$webthemes$webappdesktype$webdeskroot;
                                                
				root /home/juno/git/nginxconf/nginxconf/nginx
              

 #               error_page     404 = @proxytoapp;
 #              	log_not_found  on;
 #               error_page     403 = @proxytoapp;

        


#        location @proxytoapp {        
#        		if ($bot ~ google|bing) {
#                	fastcgi_pass    127.0.0.1:8000;
#                 	break;
#                }
#				rewrite ^(.*)$ http://$host permanent;
#  				break;
#        }

        }

    }